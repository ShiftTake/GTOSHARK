<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>GTO Poker Simulator – Indigo/Teal Felt</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      font-family: 'Inter', sans-serif;
      background-color: #0d1b1e;
      background-image: radial-gradient(circle at center, #083a4b 0%, #03191f 100%);
      color: #e0f7fa;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      overflow-x: hidden;
    }

    /* Felt poker table */
    .table {
      position: relative;
      width: 950px;
      height: 550px;
      background: radial-gradient(circle at center, #0b4046 0%, #072a2e 100%);
      border: 10px solid #1b5e60;
      border-radius: 50%;
      box-shadow: 0 0 50px rgba(0, 255, 255, 0.2);
    }

    /* Seat Circles */
    .seat {
      position: absolute;
      width: 70px;
      height: 70px;
      border-radius: 50%;
      background: rgba(0, 128, 128, 0.2);
      border: 2px solid #29b6f6;
      display: flex;
      justify-content: center;
      align-items: center;
      font-weight: bold;
      color: #e0f7fa;
      transition: all 0.3s ease;
    }
    .seat.active {
      box-shadow: 0 0 25px #00e5ff;
      background-color: rgba(0, 255, 255, 0.25);
    }
    .seat.folded {
      background-color: rgba(255, 87, 34, 0.3);
      border-color: #ff7043;
    }

    /* Cards */
    .card {
      width: 45px;
      height: 65px;
      border-radius: 8px;
      background: white;
      color: black;
      display: flex;
      justify-content: center;
      align-items: center;
      font-weight: bold;
      font-size: 18px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.4);
    }

    .board {
      position: absolute;
      top: 48%;
      left: 50%;
      transform: translate(-50%, -50%);
      display: flex;
      gap: 10px;
    }

    /* Chip Stacks */
    .chips {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -20px);
      background: rgba(255, 255, 255, 0.1);
      padding: 3px 10px;
      border-radius: 12px;
      font-size: 13px;
    }

    .action-buttons {
      margin-top: 40px;
      display: flex;
      justify-content: center;
      gap: 15px;
    }

    .action-buttons button {
      background-color: #00796b;
      color: #e0f7fa;
      border: none;
      padding: 10px 22px;
      border-radius: 10px;
      font-size: 16px;
      transition: all 0.3s ease;
      cursor: pointer;
    }

    .action-buttons button:hover {
      background-color: #00acc1;
      transform: translateY(-2px);
    }

    .pot-display {
      position: absolute;
      top: 30%;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0,0,0,0.4);
      padding: 6px 15px;
      border-radius: 10px;
      font-weight: bold;
      color: #e0f7fa;
      font-size: 16px;
    }

    .spr-display {
      position: absolute;
      top: 25%;
      left: 50%;
      transform: translateX(-50%);
      background: rgba(0,0,0,0.3);
      padding: 4px 10px;
      border-radius: 8px;
      font-size: 13px;
      color: #b2ebf2;
    }

    .log-panel {
      margin-top: 30px;
      width: 950px;
      height: 160px;
      background: rgba(0,0,0,0.3);
      border-radius: 12px;
      overflow-y: auto;
      padding: 10px 15px;
      font-size: 14px;
      color: #b2ebf2;
    }
  </style>
</head>
<body>

  <div class="table" id="table">
    <div class="pot-display" id="potDisplay">Pot: 0 BB</div>
    <div class="spr-display" id="sprDisplay">SPR: 0</div>
    <div class="board" id="board"></div>
  </div>

  <div class="action-buttons" id="actions">
    <button id="foldBtn">Fold</button>
    <button id="checkBtn">Check</button>
    <button id="callBtn">Call</button>
    <button id="raiseBtn">Raise</button>
    <button id="allinBtn">All-In</button>
  </div>

  <div class="log-panel" id="log"></div>

<script>
// === Poker Table Layout (Positions around Felt) ===
const seats = [
  { id: "UTG", top: 10, left: 390 },
  { id: "UTG+1", top: 60, left: 180 },
  { id: "UTG+2", top: 60, left: 600 },
  { id: "LJ", top: 140, left: 80 },
  { id: "HJ", top: 140, left: 700 },
  { id: "CO", top: 260, left: 40 },
  { id: "BTN", top: 260, left: 760 },
  { id: "SB", top: 380, left: 230 },
  { id: "BB", top: 380, left: 550 },
];

const table = document.getElementById("table");
const logPanel = document.getElementById("log");
const boardDiv = document.getElementById("board");
const potDisplay = document.getElementById("potDisplay");
const sprDisplay = document.getElementById("sprDisplay");

function log(msg){
  logPanel.innerHTML += `<div>${msg}</div>`;
  logPanel.scrollTop = logPanel.scrollHeight;
}

// === Create Seat Circles ===
const seatElems = {};
for (const seat of seats){
  const div = document.createElement("div");
  div.className = "seat";
  div.style.top = seat.top + "px";
  div.style.left = seat.left + "px";
  div.textContent = seat.id;
  const chips = document.createElement("div");
  chips.className = "chips";
  chips.textContent = "";
  div.appendChild(chips);
  table.appendChild(div);
  seatElems[seat.id] = div;
}

// === Basic Game State ===
const state = {
  pot: 0,
  street: "preflop",
  hero: "BTN",
  currentActor: "UTG",
  contributed: {},
  stacks: {},
  board: [],
};

seats.forEach(s => {
  state.contributed[s.id] = 0;
  state.stacks[s.id] = 100;
});
// === Action Buttons ===
const foldBtn = document.getElementById("foldBtn");
const checkBtn = document.getElementById("checkBtn");
const callBtn = document.getElementById("callBtn");
const raiseBtn = document.getElementById("raiseBtn");
const allinBtn = document.getElementById("allinBtn");

// Highlight Actor
function highlightActor(seat){
  Object.values(seatElems).forEach(div => div.classList.remove("active"));
  const elem = seatElems[seat];
  if (elem) elem.classList.add("active");
}

// Update Pot + SPR
function updateDisplays(){
  potDisplay.textContent = `Pot: ${state.pot.toFixed(1)} BB`;
  const heroStack = state.stacks[state.hero];
  const spr = state.pot > 0 ? (heroStack / state.pot).toFixed(2) : "∞";
  sprDisplay.textContent = `SPR: ${spr}`;
}

// Deal Board
function dealCards(num){
  const cards = ["A♠","K♦","Q♥","J♣","9♠","8♦","7♥","6♣","5♠","4♦"];
  for(let i=0;i<num;i++){
    const card = document.createElement("div");
    card.className = "card";
    card.textContent = cards[Math.floor(Math.random()*cards.length)];
    boardDiv.appendChild(card);
    state.board.push(card.textContent);
  }
}

// === Flow Simulation (simplified) ===
function nextAction(){
  const order = ["UTG","UTG+1","UTG+2","LJ","HJ","CO","BTN","SB","BB"];
  const nextIndex = (order.indexOf(state.currentActor)+1)%order.length;
  state.currentActor = order[nextIndex];
  highlightActor(state.currentActor);
}

function doAction(type){
  log(`${state.currentActor} ${type}s`);
  const elem = seatElems[state.currentActor];
  const chipDiv = elem.querySelector(".chips");
  if (["call","raise","all-in"].includes(type)){
    chipDiv.textContent = `${Math.floor(Math.random()*8+1)} BB`;
    state.pot += parseFloat(chipDiv.textContent);
  } else if (type==="fold"){
    elem.classList.add("folded");
    elem.querySelector(".chips").textContent = "";
  }
  updateDisplays();

  // Simulate street progression
  if (state.currentActor==="BB"){
    if (state.street==="preflop"){ state.street="flop"; dealCards(3); log("Dealing Flop..."); }
    else if (state.street==="flop"){ state.street="turn"; dealCards(1); log("Dealing Turn..."); }
    else if (state.street==="turn"){ state.street="river"; dealCards(1); log("Dealing River..."); }
    else if (state.street==="river"){ log("Showdown!"); return; }
  }

  nextAction();
}

// === Hook Buttons ===
foldBtn.onclick = ()=>doAction("fold");
checkBtn.onclick = ()=>doAction("check");
callBtn.onclick = ()=>doAction("call");
raiseBtn.onclick = ()=>doAction("raise");
allinBtn.onclick = ()=>doAction("all-in");

// Initialize
highlightActor(state.currentActor);
updateDisplays();
log("New hand started — Preflop begins...");
</script>
</body>
</html>





